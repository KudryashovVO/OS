# Пояснительная записка к л\р №3

## Требования к инструментам для выполнения л\р:
* UNIX-окружение, например ОС Debian 9.6.
* пакеты top, htop, free, atop, valgrind

## Задание


1. Изучение стандартных и дополнительных утилит, показывающих информацию о состоянии памяти в ОС
    1. Утилита free. Демонстрирует количество свободной памяти в системе. Задание: Узнать общее количство оперативной памяти в системе, а также сколько в данный момент свободно, занято, сколько памяти используется в данный момент и сколько памяти доступно в системе. Почему число доступной памяти и свободной отличается?
    2. Скачайте и установите программы top, htop, atop. Посмотрите на показатели, которые они выдают. Какое отличие от утилиты free вы можете увидеть? какие показатели сошлись, а какие отличаются?
2. Изучение информации об отображении памяти процесса в оперативной памяти. Запустите какую-нибудь программу, например *nano* и узнайте его pid.
    1. Запустите программу **pmap -X PID**. Какую информацию о процессе вы можете рассказать по выводу программы? Из каких элементов состоит современное адресное пространство процесса?
    2. Запишите 1024 символа в этот файл
    3. Снова запустите pmap и посмотрите, какая область памяти изменилась и на сколько? Как изменилось общее число памяти, занимаемое процессом?
    4. Запустите программу htop и узнайте, сколько памяти выделено процессу. Действительно ли столько памяти выделяется для этого процесса?
3. Изучение ошибки "NULL pointer exception
    1. Напишите программу, которая задает указатель типа int и присваивает ему значение NULL, а затем попробуйте что-то записать в этот указатель. Скомпилируйте программу, задав ей название null и попробуйте запустить. С какой ошибкой вы столкнулись и почему? (см лекцию).
    2. Скомпилируйте программу, включив в исполняемый файл информацию о символах (с помощью флага -g). Включение символов позволяет узнавать с помощью отладчика более полезную и читаемую информацию о программе во время дебага. Запустите отладчик *gdb null* и введите команду *run*. Какую информацию выдал вам отладчик?
4. Изучение программы-анализатора valgrind. Запустите программу *valgrind --leak-check=yes ./null*. Какую информацию выдала вам эта программа?
5. Напишите программу, которая выделяет память с помощью malloc(), но забывает ее очищать перед закрытием. Можете ли вы использовать отладчик gdb для выявления этой программы? запустите valgrind и попробуйте выяснить, сможет ли он помочь вам найти эту проблему.
6. Напишите программу, которая принимает в качестве аргумента целое число и выделяет массив размерности указанного числа. В этой программе в бесконечном цикле должна выполняться запись во все элементы этого массива. Как по-вашему мнению будет изменяться выделяемая в ОС память? Высните что происходит с помощью программы pmap.
